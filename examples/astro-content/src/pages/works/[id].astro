---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Hero from "../../components/Hero.astro";

type Work = {
  id: string;
  title: string;
  client: string;
  year: number;
  cover?: string;
};

export interface Props {
  work: Work;
}

import rawWorks from "../../data/works.yml";
const works = rawWorks as Work[];

export function getStaticPaths() {
  return works.map((w) => ({ params: { id: w.id }, props: { work: w } }));
}

const { work } = Astro.props;
const title = work.title || "Work";
const subtitle = `${work.client} Â· ${work.year}`;
---

<BaseLayout title={title}>
  <Hero title={title} subtitle={subtitle} />
  <p>Dynamic route example: /works/[id]</p>
</BaseLayout>

